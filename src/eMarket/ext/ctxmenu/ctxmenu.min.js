"use strict";(function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var f="function"==typeof require&&require;if(!i&&f)return f(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var k=e[j]={exports:{}};d[j][0].call(k.exports,function(b){var c=d[j][1][b];return a(c||b)},k,k.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b})()({1:[function(a,b,c){"use strict";/*! ctxMenu v1.3.0 | (c) Nikolaj Kappler | https://github.com/nkappler/ctxmenu/blob/master/LICENSE !*/function d(a){return h(a)||g(a)||f(a)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(a,b){if(a){if("string"==typeof a)return i(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?i(a,b):void 0}}function g(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function h(a){if(Array.isArray(a))return i(a)}function i(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c.ctxmenu=void 0;var m=/*#__PURE__*/function(){function b(){var a=this;j(this,b),this.cache={},this.hdir="r",this.vdir="d",window.addEventListener("click",function(b){var c=b.target instanceof Element&&b.target.parentElement;c&&"interactive"===c.className||a.closeMenu()}),window.addEventListener("resize",function(){return a.closeMenu()}),window.addEventListener("scroll",function(){return a.closeMenu()}),b.addStylesToDom()}return l(b,[{key:"attach",value:function(a,b){var c=this,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(a){return a},g=document.querySelector(a);if(void 0!==this.cache[a])return void console.error("target element ".concat(a," already has a context menu assigned. Use ContextMenu.update() intstead."));if(!g)return void console.error("target element ".concat(a," not found"));var e=function(a){a.stopImmediatePropagation(),c.closeMenu();var e=f(d(b),a);c.menu=c.generateDOM(e,a),document.body.appendChild(c.menu),a.preventDefault()};this.cache[a]={ctxmenu:b,handler:e,beforeRender:f},g.addEventListener("contextmenu",e)}},{key:"update",value:function(a,b,c){var d=this.cache[a],e=document.querySelector(a);d&&(null===e||void 0===e?void 0:e.removeEventListener("contextmenu",d.handler)),delete this.cache[a],this.attach(a,b||(null===d||void 0===d?void 0:d.ctxmenu)||[],c||(null===d||void 0===d?void 0:d.beforeRender))}},{key:"delete",value:function(a){var b=this.cache[a];if(!b)return void console.error("no context menu for target element ".concat(a," found"));var c=document.querySelector(a);return c?void(c.removeEventListener("contextmenu",b.handler),delete this.cache[a]):void console.error("target element ".concat(a," does not exist (anymore)"))}},{key:"closeMenu",value:function(){var a,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.menu;this.hdir="r",this.vdir="d",b&&(b===this.menu&&delete this.menu,null===(a=b.parentElement)||void 0===a?void 0:a.removeChild(b))}},{key:"debounce",value:function(a,b){var c;a.addEventListener("mouseenter",function(a){c=setTimeout(function(){return b(a)},150)}),a.addEventListener("mouseleave",function(){return clearTimeout(c)})}},{key:"generateDOM",value:function(a,c){var d=this,e=document.createElement("ul");0===a.length&&(e.style.display="none"),a.forEach(function(c){var f=document.createElement("li");if(d.debounce(f,function(){var a,b=null===(a=f.parentElement)||void 0===a?void 0:a.querySelector("ul");b&&b.parentElement!==f&&d.closeMenu(b)}),b.itemIsDivider(c))f.className="divider";else{var g=b.getProp(c.html),h="<span>".concat(b.getProp(c.text),"</span>"),i=b.getProp(c.element);if(i?f.append(i):f.innerHTML=g?g:h,f.title=b.getProp(c.tooltip)||"",c.style&&f.setAttribute("style",b.getProp(c.style)),!b.itemIsInteractive(c))f.setAttribute("style","font-weight: bold; margin-left: -5px;"+f.getAttribute("style"));else if(!!b.getProp(c.disabled))f.classList.add("disabled"),b.itemIsSubMenu(c)&&f.classList.add("submenu");else if(f.classList.add("interactive"),b.itemIsAction(c))f.addEventListener("click",function(a){c.action(a),d.closeMenu()});else if(b.itemIsAnchor(c)){var j=document.createElement("a");i?j.append(i):j.innerHTML=g?g:h,j.onclick=function(){return d.closeMenu()},j.href=b.getProp(c.href),c.hasOwnProperty("download")&&(j.download=b.getProp(c.download)),c.hasOwnProperty("target")&&(j.target=b.getProp(c.target)),f.childNodes.forEach(function(a){return a.remove()}),f.append(j)}else b.itemIsSubMenu(c)&&(0===b.getProp(c.subMenu).length?f.classList.add("disabled"):(f.classList.add("submenu"),d.debounce(f,function(a){var e=f.querySelector("ul");e||d.openSubMenu(a,b.getProp(c.subMenu),f)})));b.getProp(c.icon)&&(f.classList.add("icon"),f.innerHTML+="<img class=\"icon\" src=\"".concat(b.getProp(c.icon),"\" />"))}e.appendChild(f)}),e.style.position="fixed",e.className="ctxmenu";var f=b.getBounding(e),g={x:0,y:0};if(c instanceof Element){var h=c.getBoundingClientRect();g={x:"r"===this.hdir?h.left+h.width:h.left-f.width,y:h.top+("d"===this.vdir?4:-12)};var i=this.getPosition(f,g);g.x!==i.x&&(this.hdir="r"===this.hdir?"l":"r",g.x="r"===this.hdir?h.left+h.width:h.left-f.width),g.y!==i.y&&(this.vdir="u"===this.vdir?"d":"u",g.y=i.y),g=this.getPosition(f,g)}else g=this.getPosition(f,{x:c.clientX,y:c.clientY});return e.style.left=g.x+"px",e.style.top=g.y+"px",e.addEventListener("contextmenu",function(a){a.stopPropagation(),a.preventDefault()}),e.addEventListener("click",function(a){var b=a.target instanceof Element&&a.target.parentElement;b&&"interactive"!==b.className&&a.stopPropagation()}),e}},{key:"openSubMenu",value:function(a,b,c){var d,e=null===(d=c.parentElement)||void 0===d?void 0:d.querySelector("li > ul");e&&e.parentElement!==c&&this.closeMenu(e),c.appendChild(this.generateDOM(b,c))}},{key:"getPosition",value:function(a,b){return{x:"r"===this.hdir?b.x+a.width>window.innerWidth?window.innerWidth-a.width:b.x:0>b.x?0:b.x,y:"d"===this.vdir?b.y+a.height>window.innerHeight?window.innerHeight-a.height:b.y:0>b.y?0:b.y}}}],[{key:"getInstance",value:function(){return b.instance||(b.instance=new b),b.instance}},{key:"getBounding",value:function(a){var b=a.cloneNode(!0);b.style.visibility="hidden",document.body.appendChild(b);var c=b.getBoundingClientRect();return document.body.removeChild(b),c}},{key:"getProp",value:function(a){return"function"==typeof a?a():a}},{key:"itemIsInteractive",value:function(a){return this.itemIsAction(a)||this.itemIsAnchor(a)||this.itemIsSubMenu(a)||this.itemIsCustom(a)}},{key:"itemIsAction",value:function(a){return a.hasOwnProperty("action")}},{key:"itemIsAnchor",value:function(a){return a.hasOwnProperty("href")}},{key:"itemIsDivider",value:function(a){return a.hasOwnProperty("isDivider")}},{key:"itemIsSubMenu",value:function(a){return a.hasOwnProperty("subMenu")}},{key:"itemIsCustom",value:function(a){return a.hasOwnProperty("html")||a.hasOwnProperty("element")}},{key:"addStylesToDom",value:function(){var a=function(){var b=Object.entries({".ctxmenu":{border:"1px solid #999",padding:"2px 0",boxShadow:"3px 3px 3px #aaa",background:"#fff",margin:"0",fontSize:"15px",fontFamily:"Verdana, sans-serif",zIndex:"9999"},".ctxmenu li":{margin:"1px 0",display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none"},".ctxmenu li span":{display:"block",padding:"2px 20px",cursor:"default"},".ctxmenu li a":{color:"inherit",textDecoration:"none"},".ctxmenu li.icon":{paddingLeft:"15px"},".ctxmenu img.icon":{position:"absolute",width:"18px",left:"10px",top:"2px"},".ctxmenu li.disabled":{color:"#ccc"},".ctxmenu li.divider":{borderBottom:"1px solid #aaa",margin:"5px 0"},".ctxmenu li.interactive:hover":{background:"rgba(0,0,0,0.1)"},".ctxmenu li.submenu::after":{content:"''",position:"absolute",display:"block",top:"0",bottom:"0",right:"0.4em",margin:"auto",borderRight:"1px solid #000",borderTop:"1px solid #000",transform:"rotate(45deg)",width:"0.3rem",height:"0.3rem",marginRight:"0.1rem"},".ctxmenu li.submenu.disabled::after":{borderColor:"#ccc"}}).map(function(a){return"".concat(a[0]," { ").concat(Object.assign(document.createElement("p").style,a[1]).cssText," }")}),c=document.head.insertBefore(document.createElement("style"),document.head.childNodes[0]);b.forEach(function(a){var b;return null===(b=c.sheet)||void 0===b?void 0:b.insertRule(a)}),a=function(){}};"loading"===document.readyState?document.addEventListener("readystatechange",function(){"loading"!==document.readyState&&a()}):a()}}]),b}();c.ctxmenu=m.getInstance()},{}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./ctxmenu");window.ctxmenu=d.ctxmenu},{"./ctxmenu":1}]},{},[2]);
